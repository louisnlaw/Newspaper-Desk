<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Newspaper-desk : " />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Newspaper-desk</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/limo618/Newspaper-Desk">Fork Me on GitHub</a>

          <h1 id="project_title">Newspaper-desk</h1>
          <h2 id="project_tagline"></h2>

          <section id="downloads">
            <a class="zip_download_link" href="http://cloud.github.com/downloads/limo618/Newspaper-Desk/newspaper_by_lm.zip">Download this project as a .zip file</a>
            <a class="tar_download_link" href="https://github.com/limo618/Newspaper-Desk/blob/master/newspaper_by_lm.tgz">Download this project as a tar.gz file</a>
          </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>This wallpaper is designed for Mac OS.</h3>

<p>I'm an intensive daily news reader that I keep myself updated by using RSS reader apps. Later I found it more convenient if I had the news exhibited on desktop and renewed automatically. The function is easily executed by Geektool from <a href="http://projects.tynsoe.org/en/geektool/">Tynsoe.Org</a>, which is able to display useful system info on desktop background. Or even integrate them as part of our wallpapers. Now this awesome tool is available in <a href="http://itunes.apple.com/gb/app/geektool/id456877552?mt=12">Mac App Store</a> where you can directly get a copy for free.</p>

<img src="images/paper.jpg" alt="" />

<p>On the desktop, every piece of constantly changing information is generated by Geektool. Each refreshing rate is based on your setting individually. Thanks to the <a href="http://www.macosxtips.co.uk/geeklets/about/">Geeklets</a> website founder <a href="http://www.macosxtips.co.uk/geeklets/about/">Matt Swain</a>, abundant scripts have been published and shared over the world. And this is where I started learning the toolkit.</p>

<h5>Current Weather from Yahoo! Weather</h5>

<p>We need 3 shell scripts to display current weather report as well as an icon for a certain city.</p>
<h6>City Main Page</h6>
<pre><code>curl --silent "http://weather.yahoo.com/xxx/xxx/xxx-xxx/?unit=c" | grep "forecast-icon" | sed "s/.*background\:url(\'\(.*\)\')\;\ _background.*/\1/" | xargs curl --silent -o /tmp/weather.png\</code></pre>
<p>Open <a href="http://weather.yahoo.com">Yahoo! Weather</a>, search for the city you want, copy the page URL and replace the script's counterpart.</p>
<h6>City RSS</h6>
<pre><code>curl --silent "http://weather.yahooapis.com/forecastrss?p=CHXX0116&u=c" | grep -E '(Current Conditions:|C<BR)' | sed -e 's/Current Conditions://' -e 's/<br \/>//' -e 's/<b>//' -e 's/<\/b>//' -e 's/<BR \/>//' -e 's/<description>//' -e 's/<\/description>//'</code></pre>
<p>On the city page you just landed, copy its RSS link at the upper right corner and replace the script's counterpart as well.</p>
<h6>Weather Icon</h6>
<pre><code>file:///tmp/weather.png</code></pre>
<p>You don't need to do anything regarding this code UNLESS you want more than one cities being displayed in the same time. To make it more clear, if you show reports for two cities, one of their icon file "weather.png" has to be renamed differently as you prefer but must be consistent for both the script of City Main Page and the Weather Icon. Otherwise both cities will exhibit the same weather icon.</p>

<h5>Monthly Calendar</h5>
<pre><code>cal | GREP_COLOR="43" grep --color=always -C6 -E "(^| )$(date +%e)($| )" | GREP_COLOR="8" grep --color=always -C6 -E "(^| )$(date +'%B %Y')($| )"
—————
cal | GREP_COLOR="47" grep --color=always -C6 -E "(^| )$(date +%e)($| )" | GREP_COLOR="8" grep --color=always -C6 -E "(^| )$(date +'%B %Y')($| )"</code></pre>
<p>The date "today" can be highlighted with the foreground and background colours corresponding to the codes in the table below, change it to your delight:</p>
<pre><code>foreground colors：</br>
30 black</br>
31 red</br>
32 green</br>
33 yellow</br>
34 blue</br>
35 magenta</br>
36 cyan</br>
37 white</br>
background colors：</br>
40 black</br>
41 red</br>
42 green</br>
43 yellow</br>
44 blue</br>
45 magenta</br>
46 cyan</br>
47 white</code></pre>
<p>Keep in mind that you should select one of the fixed-width fonts to place all the date numbers neatly in line with each other.</p>

<h5>RSS Subscription</h5>
<pre><code>URL="http://headlines.yahoo.co.jp/rss/cnn_c_int.xml"
maxLength="500"
start="3"
end="9"

curl --silent "$URL" |
sed -e :a -e '$!N;s/\n//;ta' |
sed -e 's/ < title>/\
< title>/g' |
sed -e 's/<\/title>/<\/title>\
/g' |
sed -e 's/< description>/\
< description>/g' |
sed -e 's/<\/description>/<\/description>\
/g' |
grep -E '(title>|description>)' |
sed -n "$start,$"'p' |
sed -e 's/< title>//' |
sed -e 's/<\/title>//' |
sed -e 's/< description>/   /' |
sed -e 's/<\/description>//' |
sed -e 's/<!\[CDATA\[//g' |
sed -e 's/\]\]>//g' |
sed -e 's/&lt;/< /g' |
sed -e 's/&gt;/>/g' |
sed -e 's/<[^>]*>//g' |
cut -c 1-$maxLength |
head -$end |
sed G |
fmt</code></pre>
<p>Replace the URL with your favourite feeds.</p>

<h3>Support or Contact</h3>

<p>Having questions with shell codes? You may find more scripts on <a href="http://www.macosxtips.co.uk/geeklets/collections/">Geeklets</a> website. Or you can send me an <a href="mailto:limo618@gmail.com">email</a> for further discussion.
</p>

<h5>Authors and Contributors</h5>

<p>You can <a href="https://github.com/blog/821" class="user-mention">@mention</a> a GitHub username to generate a link to their profile. The resulting <code>&lt;a&gt;</code> element will link to the contributor's GitHub Profile. For example: In 2007, Chris Wanstrath (<a href="https://github.com/defunkt" class="user-mention">@defunkt</a>), PJ Hyett (<a href="https://github.com/pjhyett" class="user-mention">@pjhyett</a>), and Tom Preston-Werner (<a href="https://github.com/mojombo" class="user-mention">@mojombo</a>) founded GitHub.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Newspaper-desk maintained by <a href="https://github.com/limo618">limo618</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
